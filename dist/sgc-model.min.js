define("Collection/mixins/collectionHelpers",[],function(){return function(){return{isEmpty:function(){return 0===this.length},previousModel:function(t){if(t){var e=this.indexOf(t);if(-1!==e)return this.at(e-1)}},nextModel:function(t){if(t){var e=this.indexOf(t);if(-1!==e)return this.at(e+1)}},remove:function(t,e){if(e=_.defaults(e||{},{predicate:null}),e.predicate&&_.isFunction(e.predicate)){var n=this.filter(e.predicate);return this.remove(n),n}return Backbone.Collection.prototype.remove.apply(this,arguments)},clear:function(t){var e=this.models;this.reset([]);for(var n=e.length-1;n>=0;n--)e[n].clear(t);this.stopListening(),this.parent&&(this.parent=null)},where:function(t,e){return _.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){return e.equal(t)?!0:void 0})},clone:function(t){t||(t={});var e=t.models||this.models,n=new this.constructor(e,{url:this.url,parent:this.parent});return n.sgSort(_.clone(this.getSGSort())),n.sgFilter(_.clone(this.getSGFilter())),n.sgPaginate(_.clone(this.getSGPaginate())),n}}}}),define("Collection/mixins/collectionSync",[],function(){return function(){return{_isLoading:!1,fetch:function(t){t=this._prepareQueryOptions(t),this._isLoading=!0,this.trigger("loading-start");var e=t.success,n=this;return t.success=function(){n._isLoading=!1,n.trigger("Fetch:success"),n.trigger("loading-stop"),e&&e.apply(this,arguments)},t.error=function(t){t&&t.apply&&t.apply(this,arguments),n.trigger("Fetch:error",t),n._isLoading=!1,n.trigger("loading-stop")},Backbone.Collection.prototype.fetch.apply(this,[t])},isLoading:function(){return this._isLoading}}}}),define("Utils/utils",[],function(){var t={};return t.asGetter=function(e){return"get"+t.capitalize(e)},t.asSetter=function(e){return"set"+t.capitalize(e)},t.capitalize=function(t){var e="",n=t.split(".");return n.forEach(function(t){e+=t.charAt(0).toUpperCase()+t.slice(1)}),e},t.contains=function(t,e){return~t.indexOf(e)},t.startsWith=function(t,e){return t.slice(0,e.length)===e},t.endsWith=function(t,e){return t.slice(t.length-e.length,t.length)===e},t}),define("Model/mixins/modelSchemaPropertiesDefinition",["../../Utils/utils"],function(t){return function(){return{_generateGetSetForAttributes:function(t){for(var e=t.length-1;e>=0;e--)this._generateGetSetForAttribute(t[e])},_generatedGetterAndSetter:function(){return this.__generatedGetterAndSetter||(this.__generatedGetterAndSetter={}),this.__generatedGetterAndSetter},_generateGetSetForAttribute:function(t,e){if(e=_.defaults(e||{},{getter:!0,setter:!0}),!this._generatedGetterAndSetter()[t]){var n={},i=this._defineGetter(t);i&&e.getter&&(n.get=i);var r=this._defineSetter(t);e.setter&&(n.set=r),Object.defineProperty(this,t,n),this._generatedGetterAndSetter()[t]=n}},_defineGetter:function(e){return this.__existGetterForAttribute(e)?this[t.asGetter(e)]:function(){return this.get(e)}},_defineSetter:function(e){return this.__existSetterForAttribute(e)?this[t.asSetter(e)]:function(t){return this.set(e,t)}}}}}),define("Model/mixins/modelGetter",["../../Utils/utils"],function(t){return function(){return{__existGetterForAttribute:function(e){if(!_.isString(e))return!1;var n=t.asGetter(e);return n in this&&_.isFunction(this[n])},get:function(e,n){return n=_.defaults(n||{},{getterForce:!1}),!n.getterForce&&this.__existGetterForAttribute(e)?this[t.asGetter(e)](e,_.clone(n||{})):Backbone.Model.prototype.get.apply(this,arguments)}}}}),define("Model/mixins/modelSetter",["../../Utils/utils"],function(t){return function(){return{__existSetterForAttribute:function(e){if(!_.isString(e))return!1;var n=t.asSetter(e);return n in this&&_.isFunction(this[n])},set:function(e,n,i){return _.isObject(e)&&_.isObject(n)&&!i&&(i=n),i=_.defaults(i||{},{setterForce:!1,setEach:!1}),!i.setterForce&&this.__existSetterForAttribute(e)?this[t.asSetter(e)](n,_.clone(i||{})):i.setEach&&_.isObject(e)?void _.each(e,function(t,n){this.set(n,t,_.clone(i),e)},this):Backbone.Model.prototype.set.apply(this,[e,n,i])}}}}),define("Model/mixins/modelEvents",["../../Utils/utils"],function(t){function e(t){var e={},n=t.replace("change:","");return e.submodelName=n.split(".")[0],e.subTrigger="change:"+n.replace(e.submodelName+".",""),e}var n=require("backbone");return function(){return{__isMpathTrigger:function(e){return _.isString(e)&&t.contains(e,".")&&t.startsWith(e,"change:")},on:function(t,i,r){if(this.__isMpathTrigger(t)){var o=e(t),s=this.get([o.submodelName]);if(s instanceof n.Model)return void s.on(o.subTrigger,i,r);throw new Error("Unknow model")}return n.Model.prototype.on.apply(this,arguments)},off:function(i,r,o){if(_.isString(i)&&t.contains(".",i)&&t.startsWith(i,"change:")){var s=e(i),u=this.get([s.submodelName]);if(u instanceof n.Model)return void u.off(s.subTrigger,r,o);throw new Error("Unknow model")}return n.Model.prototype.off.apply(this,arguments)}}}}),define("Model/mixins/modelHelpers",[],function(){return function(){return{query:function(t){if(!t)return void 0;for(var e in t)if(_.isFunction(t[e])){if(!t[e](this.get(e)))return!1}else if(t[e]!==this.get(e))return!1;return!0}}}}),define("Model/Model",["./mixins/modelSchemaPropertiesDefinition","./mixins/modelGetter","./mixins/modelSetter","./mixins/modelEvents","./mixins/modelHelpers"],function(t,e,n,i,r){var o=require("backbone"),s=o.Model.extend({constructor:function(t,e){if(e=_.defaults(e||{},{automaticGetterAndSetter:!1}),_.isString(t)){var n=t;t={},t[this.idAttribute]=n}var i=o.Model.prototype.constructor.apply(this,[t,e]);return e.automaticGetterAndSetter&&t&&this._generateGetSetForAttributes(_.keys(t)),i},clear:function(){return this.stopListening(),this.collection&&(this.collection=null),o.Model.prototype.clear.apply(this,arguments)}});return _.extend(s.prototype,i(s)),_.extend(s.prototype,t(s)),_.extend(s.prototype,e(s)),_.extend(s.prototype,n(s)),_.extend(s.prototype,r(s)),s}),define("Collection/Collection",["./mixins/collectionHelpers","./mixins/collectionSync","../Model/Model"],function(t,e,n){var i=require("backbone"),r=i.Collection.extend({model:n});return _.extend(r.prototype,t(r)),_.extend(r.prototype,e(r)),r}),define("sgc-model",["require","./Collection/Collection","./Model/Model","./Utils/utils"],function(t){var e=t("./Collection/Collection"),n=t("./Model/Model"),i=t("./Utils/utils");return{Collection:e,Model:n,utils:i}});